{
  "name": "agenda-amiga",
  "version": "0.1.0",
  "private": true,
  "packageManager": "npm@11.6.2",
  "engines": { "node": ">=20" },

  "workspaces": ["apps/*", "packages/*"],

  "scripts": {
    "// ====== PRE HOOKS ======": "",
    "predev": "npm run shared:build",

    "// ====== SHARED ======": "",
    "shared:build": "npm run build -w @agenda-amiga/shared",
    "shared:dev": "npm run dev -w @agenda-amiga/shared",

    "// ====== API ======": "",
    "api:build": "npm run build -w @agenda-amiga/api",
    "api:dev": "npm run dev -w @agenda-amiga/api",
    "api:start": "npm run start -w @agenda-amiga/api",
    "api:test": "npm run test -w @agenda-amiga/api",
    "api:test:cov": "npm run test:cov -w @agenda-amiga/api",

    "// ====== WEB (Frontend) ======": "",
    "web:build": "npm run build -w @agenda-amiga/frontend",
    "web:dev": "node scripts/web-dev.js",
    "web:dev:frontend": "npm run dev -w @agenda-amiga/frontend",
    "web:dev:lan": "npm run dev:lan -w @agenda-amiga/frontend",
    "web:preview:lan": "npm run preview:lan -w @agenda-amiga/frontend",

    "// ====== TOP-LEVEL TASKS ======": "",
    "build": "npm run shared:build && npm run api:build && npm run web:build",
    "dev": "concurrently -n SHARED,API,WEB -c yellow,cyan,magenta \"npm run shared:dev\" \"npm run api:dev\" \"npm run web:dev:frontend\"",
    "dev:lan": "concurrently -n SHARED,API,WEB -c yellow,cyan,magenta \"npm run shared:dev\" \"npm run api:dev\" \"npm run web:dev:lan\"",

    "// ====== RENDER (Node sem Docker) ======": "",
    "render:build": "npm run render:build -w @agenda-amiga/api",
    "render:start": "npm run render:start -w @agenda-amiga/api",

    "// ====== DOCKER (conveniÃªncia) ======": "",
    "docker:build": "docker build -t agendaamiga-api:latest .",
    "docker:run": "docker run --rm -p 3000:3000 --env-file ./.env.docker agendaamiga-api:latest",

    "// ====== UTIL ======": "",
    "clean": "npx rimraf node_modules packages/**/dist apps/**/dist package-lock.json",
    "versions": "node -v && npm -v",
    "port:free:3333": "powershell -Command \"$tcpPid=(Get-NetTCPConnection -LocalPort 3333 -State Listen -ErrorAction SilentlyContinue).OwningProcess; if($tcpPid){Stop-Process -Id $tcpPid -Force; Write-Host 'Killed ' $tcpPid} else { Write-Host '3333 livre' }\""
  },

  "devDependencies": {
    "@types/node": "^24.9.1",
    "vitest": "^1.6.0",
    "concurrently": "^9.2.1",
    "lint-staged": "^16.2.5",
    "rimraf": "^6.0.1",
    "tsx": "^4.20.6"
  },
  "dependencies": {},
  "overrides": { "picomatch": "2.3.1" }
}
